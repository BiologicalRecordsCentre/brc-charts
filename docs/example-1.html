<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>BRC Charts Library example 1</title>
  <style>
    .divfl {
      float: left;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <div class="content">
    <h1>Using the BRC Charts Library</h1>
    <h2>Show a pie or donut chart</h2>
    <p>
      Include the required Javascript libraries and CSS in the page. We need the BRC Charts JS libary, the associated
      CSS and the D3 library which is an external
      external dependency of the BRC Charts library. In this example they are all included from CDNs.
    </p>
<pre>
<code class="html">&lt;script src=&quot;https://d3js.org/d3.v5.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/gh/biologicalrecordscentre/brc-charts/dist/brccharts.umd.js&quot;&gt;&lt;/script&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/gh/biologicalrecordscentre/brc-charts/dist/brccharts.umd.css&quot;&gt;&lt;/script&gt;</code>
</pre>
    <p>
      First we create a div element which will contain the chart map.
    </p>
<pre>
<code class="html">&lt;div id=&quot;chart&quot;&gt;&lt;/div&gt;</code>
</pre>

    <div id="chart1" style="max-width: 500px"></div>
    <div>
      <div id="chart2" class="divfl"></div>
      <div id="chart3" class="divfl"></div>
    </div>

    <button onclick="button1Click()">Button 1</button>

    <!--JS and CSS required for highlighting inline example code-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/a11y-light.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!--Page CSS-->
    <link rel="stylesheet" href="example.css" />

    <!--D3 JS required exernal dependency of BRC Atlas library-->
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <!--BRC Charts library JS and CSS-->
    <script src="./../dist/brccharts.umd.js"></script>
    <link rel="stylesheet" type="text/css" href="./../dist/brccharts.umd.css">
    <!-- <script src="https://cdn.jsdelivr.net/gh/biologicalrecordscentre/brc-charts@latest/dist/brccharts.umd.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/biologicalrecordscentre/brc-charts@latest/dist/brccharts.umd.css"> -->

    <script>

      var newPie = {
        selector: '#chart1',
        innerRadius: 100,
        radius: 200,
        sort: '',
        //label: 'percent',
        titleFontSize: 30,
        titleAlign: 'left',
        labelFontSize: 15,
        labelColour: 'white',
        expand: true,
        title: 'FIT Counts: insects counted on hawthorn flowers 2017 to 2020',
        interactivity: 'mouseclick',
        data: [
          {
              name: "bumblebees",
              number: 3,
              colour: '#5A99D3',
              image: 'images/Bumblebees.png'
          },
          {
              name: "honeybees",
              number: 10,
              colour: '#EB7C30',
              image: 'images/Honeybees.png'
          },
          {
              name: "solitary bees",
              number: 7,
              colour: '#A3A3A3',
              image: 'images/Solitary bees.png'
          },
          {
              name: "wasps",
              number: 4,
              colour: '#FFBF00',
              image: 'images/Wasps.png'
          },
          {
              name: "hoverflies",
              number: 12,
              colour: '#4472C3',
              image: 'images/Hoverflies.png'
          },
          {
              name: "other flies",
              number: 34,
              colour: '#70AB46',
              image: 'images/Other flies.png'
          },
          {
              name: "butterflies and moths",
              number: 1,
              colour: '#1F5380',
              image: 'images/Butterflies and moths.png'
          },
          {
              name: "beetles",
              number: 6,
              colour: '#9D480E',
              image: 'images/Beetles.png'
          },
          {
              name: "small insects",
              number: 17,
              colour: '#626262',
              image: 'images/Aphid_BHL.png'
          },
          {
              name: "other insects",
              number: 6,
              colour: '#977200',
              image: 'images/Other insects.png'
          },
        ]
      }

      var data2 = [
            {
                name: "bumblebees",
                number: 3,
                colour: '#5A99D3',
                image: 'images/Bumblebees.png'
            },
            {
                name: "honeybees",
                number: 10,
                colour: '#EB7C30',
                image: 'images/Honeybees.png'
            },
            {
                name: "solitary bees",
                number: 7,
                colour: '#A3A3A3',
                image: 'images/Solitary bees.png'
            },
            {
                name: "wasps",
                number: 14,
                colour: '#FFBF00',
                image: 'images/Wasps.png'
            },
            // {
            //     name: "hoverflies",
            //     number: 12,
            //     colour: '#4472C3',
            //     image: 'images/Hoverflies.png'
            // },
            {
                name: "other flies",
                number: 40,
                colour: '#70AB46',
                image: 'images/Other flies.png'
            },
            {
                name: "butterflies and moths",
                number: 11,
                colour: '#1F5380',
                image: 'images/Butterflies and moths.png'
            },
            {
                name: "beetles",
                number: 26,
                colour: '#9D480E',
                image: 'images/Beetles.png'
            },
            {
                name: "small insects",
                number: 77,
                colour: '#626262',
                image: 'images/Aphid_BHL.png'
            },
            {
                name: "other insects",
                number: 16,
                colour: '#977200',
                image: 'images/Other insects.png'
            },
          ]
      
      //var chart = brccharts.pie({selector: '#chart1'})
      var chart = brccharts.pie(newPie)

      //console.log(chart.getChartWidth())
      //console.log(chart.getChartHeight())

      function button1Click() {

        // chart.setChartTitle("New chart title")
        // setTimeout(function(){ chart.setChartTitle("Hello"); }, 3000);
        // setTimeout(function(){ chart.setChartTitle("May had a little lamb whose fleece was white as snow and everywhere that Mary went blah blah"); }, 6000);
        // setTimeout(function(){ chart.setChartTitle("Hello again"); }, 9000);

        chart.setChartData(data2)
      }
      //makePie('#chart2')
      //makePie('#chart3')
    </script>
  </div>
</body>
</html>